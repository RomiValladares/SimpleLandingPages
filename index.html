<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sorteo – Cuerpo Raíz</title>

  <style>
    /* ====== THEME TOKENS ====== */
    :root{
      /* Replace this with your real image URL */
      --bg-image: url('YOUR_BACKGROUND_IMAGE.jpg');

      /* Colors */
      --tint: rgba(144, 33, 41, .90);     /* overlay wine/red */
      --card: rgba(255,255,255,.95);
      --text: #2A2A2A;
      --muted:#6b6f76;
      --accent:#E59E20;                   /* CTA button */
      --accentText:#fff;

      /* Radii & shadows */
      --radius-xl: 24px;
      --radius-md: 14px;
      --shadow-lg: 0 18px 48px rgba(0,0,0,.25);
      --shadow-sm: 0 6px 18px rgba(0,0,0,.12);
    }

    /* ====== PAGE BACKDROP ====== */
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      display:flex; align-items:center; justify-content:center;
      background: #000;
      position: relative;
      overflow-x: hidden;
    }
    /* Background image */
    .bg{
      position:fixed; inset:0;
      background-image: var(--bg-image);
      background-size: cover;
      background-position: center;
      filter: none;
      z-index: -2;
    }
    /* Tint overlay */
    .tint{
      position:fixed; inset:0; z-index:-1;
      background: var(--tint);
      /* soft wave mask on bottom for some personality (safe for IG) */
      -webkit-mask-image: radial-gradient(120% 80% at 50% 10%, #000 60%, transparent 66%);
              mask-image: radial-gradient(120% 80% at 50% 10%, #000 60%, transparent 66%);
    }

    /* ====== LAYOUT WRAPPER (for fallback form under modal) ====== */
    .wrap{ width:min(960px, 92vw); padding: 18px; margin: 24px auto; }
    .hidden{ display:none; }

    /* ====== CARD (used by both modal + fallback) ====== */
    .card{
      width:min(680px, 92vw);
      margin: 0 auto;
      background: var(--card);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-lg);
      backdrop-filter: blur(2px);
      overflow:hidden;
    }
    .card-body{ padding: clamp(18px, 4vw, 36px); }

    .title{
      margin: 0 0 4px 0;
      font-weight: 800;
      line-height: 1.1;
      font-size: clamp(28px, 6vw, 44px);
      text-align:center;
      color: #fff;
      text-shadow: 0 2px 8px rgba(0,0,0,.22);
    }
    .brand{
      margin: 0 0 8px 0;
      text-align:center;
      color: #ffe6d1;
      letter-spacing: .12em;
      font-weight: 900;
      text-transform: uppercase;
      font-size: clamp(13px, 2.6vw, 16px);
    }
    .sub{
      margin: 0 auto 18px;
      max-width: 680px;
      text-align:center;
      color:#ffe6d1;
      font-size: clamp(14px, 2.8vw, 18px);
    }

    /* The semi-transparent content slab behind the fields */
    .slab{
      margin: 18px auto 0;
      width:min(620px, 92%);
      background: rgba(255,255,255,.92);
      border-radius: 18px;
      box-shadow: var(--shadow-sm);
      padding: clamp(14px, 3.6vw, 22px);
    }

    /* ====== FORM ELEMENTS ====== */
    .mc-field{ margin-bottom: 12px; text-align:left; }
    .lab{ display:block; margin:0 0 6px; font-weight:600; color: var(--muted); }
    .input{
      width:100%; box-sizing:border-box;
      padding: 14px 16px; font-size: 16px;
      border: 1px solid #d8dae0; border-radius: 12px; outline: none;
      background:#fff;
    }
    .input:focus{ border-color:#b8bcc6; box-shadow: 0 0 0 4px rgba(229,158,32,.12); }

    .cta{
      width:100%; padding: 14px 18px; border:0;
      border-radius: 12px; cursor:pointer;
      background: var(--accent); color: var(--accentText);
      font-weight:800; font-size: 16px; letter-spacing:.02em;
      transition: transform .05s ease, filter .15s ease;
    }
    .cta:active{ transform: translateY(1px); }
    .muted { color: var(--muted); font-size: 13px; margin-top: 10px; text-align:center; }

    /* ====== MODAL CHROME (for popup experience) ====== */
    .overlay{ position: fixed; inset:0; display:none; align-items: flex-start; justify-content:center; padding-top: clamp(48px, 10vh, 96px); z-index: 10; }
    .overlay[data-open="1"]{ display:flex; }
    .overlay::before{ content:""; position:absolute; inset:0; backdrop-filter: blur(1.5px); }
    .modal{ position:relative; }
    .close{
      position:absolute; top: 10px; right: 14px; border:0; background:transparent;
      color:#fff; font-size: 26px; line-height:1; cursor:pointer; z-index:11;
      text-shadow: 0 2px 8px rgba(0,0,0,.35);
    }

    @media (max-width: 480px){
      .slab{ padding:14px }
    }
  </style>
</head>
<body>
  <!-- Background image + tint -->
  <div class="bg" aria-hidden="true"></div>
  <div class="tint" aria-hidden="true"></div>

  <!-- HEADLINES like your popup -->
  <div class="wrap" aria-hidden="true">
    <p class="brand">DEPOP_UY</p>
    <h1 class="title">Sorteo maquillaje Elf</h1>
    <p class="sub">Con tu email tenés más chances de participar. Además, te regalamos un cupón de $300 para tu próxima compra.</p>
  </div>

  <!-- ===== FALLBACK (always in DOM; shown for IG/Firefox/blocked JS) ===== -->
  <div id="fallback" class="hidden">
    <div class="card">
      <div class="card-body">
        <div class="slab">
          <form action="https://cuerporaizbreathwork.us8.list-manage.com/subscribe/post?u=da01e192b9e5c7e47f1697a1b&amp;id=415cc74907&amp;f_id=00810fe1f0"
                method="post" target="_self" novalidate>
            <div class="mc-field">
              <label class="lab" for="mce-EMAIL">Tu email</label>
              <input class="input" type="email" name="EMAIL" id="mce-EMAIL" required autocomplete="email" />
            </div>

            <!-- honeypot (must keep) -->
            <div aria-hidden="true" style="position:absolute; left:-5000px;">
              <input type="text" name="b_da01e192b9e5c7e47f1697a1b_415cc74907" tabindex="-1" value="">
            </div>

            <button class="cta" type="submit">Participar</button>
            <p class="muted">Revisá tu bandeja (y spam) tras enviar.</p>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== MODAL POPUP (nice version) ===== -->
  <div id="overlay" class="overlay" aria-hidden="true">
    <button id="close" class="close" aria-label="Cerrar">×</button>
    <div class="modal card">
      <div class="card-body">
        <div class="slab">
          <form action="https://cuerporaizbreathwork.us8.list-manage.com/subscribe/post?u=da01e192b9e5c7e47f1697a1b&amp;id=415cc74907&amp;f_id=00810fe1f0"
                method="post" target="_self" novalidate>
            <div class="mc-field">
              <label class="lab" for="mce-EMAIL-2">Tu email</label>
              <input class="input" type="email" name="EMAIL" id="mce-EMAIL-2" required autocomplete="email" />
            </div>
            <div aria-hidden="true" style="position:absolute; left:-5000px;">
              <input type="text" name="b_da01e192b9e5c7e47f1697a1b_415cc74907" tabindex="-1" value="">
            </div>
            <button class="cta" type="submit">Participar</button>
            <p class="muted">Revisá tu bandeja (y spam) tras enviar.</p>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Always clear MC suppression so you can retest ===== -->
  <script>
    (function () {
      ["MCPopupClosed","MCPopupSubscribed"].forEach(function (name) {
        document.cookie = name+"=; Max-Age=0; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;";
        document.cookie = name+"=; Max-Age=0; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=."+location.hostname+";";
      });
      try {
        ["localStorage","sessionStorage"].forEach(function(store){
          var s=window[store]; if(!s) return;
          var ks=[]; for(var i=0;i<s.length;i++) ks.push(s.key(i));
          ks.forEach(function(k){ var kk=(k||"").toLowerCase(); if(kk.includes("mc")||kk.includes("popup")) s.removeItem(k); });
        });
      } catch(e){}
    })();
  </script>

  <!-- ===== Detect IG/FB webview or Firefox strict => show fallback, skip mcjs ===== -->
  <script>
    (function () {
      var ua = navigator.userAgent || "";
      var isIG = ua.includes("Instagram");
      var isFB = ua.includes("FBAN") || ua.includes("FBAV");
      var isFirefox = ua.includes("Firefox");
      if (isIG || isFB || isFirefox) {
        document.getElementById("fallback").classList.remove("hidden");
        window.skipMcPopup = true;
      }
    })();
  </script>

  <!-- ===== Load Mailchimp mcjs if allowed, but we still open our nice modal immediately ===== -->
  <script>
    (function () {
      function openModal(){
        var ov = document.getElementById('overlay'); if(!ov) return;
        ov.setAttribute('data-open','1');
        var close = document.getElementById('close');
        close.onclick = function(){ ov.removeAttribute('data-open'); };
        ov.addEventListener('click', function(e){ if(e.target===ov){ close.click(); }});
        window.addEventListener('keydown', function(e){ if(e.key==='Escape'){ close.click(); }});
      }

      if (window.skipMcPopup) return;  // IG/Firefox/etc → only fallback

      // Open our modal quickly (nice UX even if mcjs gets blocked later)
      setTimeout(openModal, 350);

      // Try to load mcjs (kept for your connected-site requirement/backups)
      var s = document.createElement("script");
      s.id = "mcjs";
      s.async = 1;
      s.src = "https://chimpstatic.com/mcjs-connected/js/users/da01e192b9e5c7e47f1697a1b/aee3b1fd5f761d99c97a62e16.js";
      document.body.appendChild(s);

      // Always show the fallback under the modal after a moment (if user closes the modal)
      setTimeout(function(){
        document.getElementById("fallback").classList.remove("hidden");
      }, 1500);
    })();
  </script>
</body>
</html>
